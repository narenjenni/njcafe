<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Order • NJ Cafe</title>
  <meta name="description" content="Halaman pemesanan NJ Cafe: pilih menu, tulis catatan, kirim via WhatsApp atau Email.">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
</head>
<body>
  <!-- NAV (tetap terlihat) -->
  <nav class="nav">
    <div class="container wrap">
      <a href="index.html" class="brand" aria-label="NJ Cafe">
        <span class="logo"></span>
        <span class="name">NJ Cafe</span>
      </a>
      <ul>
        <li><a href="index.html#menu">Menu</a></li>
        <li><a href="index.html#owner">Owner</a></li>
        <li><a href="index.html#info">Informasi</a></li>
        <li><a href="order.html" class="btn ripple">Halaman Order</a></li>
      </ul>
      <button class="burger" aria-label="Buka navigasi"><span></span></button>
    </div>
  </nav>

  <main class="container section page">
    <!-- LEFT: Items -->
    <section>
      <header class="card" style="margin-bottom:12px">
        <h2 class="spark" style="margin-bottom:6px">Pilih Menu & Tambahkan ke Keranjang</h2>
        <p>Gunakan pencarian, filter kategori, dan pengurutan untuk menemukan menu favorit. Tulis <em>catatan</em> per item (contoh: “tidak pedas ya”).</p>
        <div class="toolbar">
          <input id="search" class="input search" placeholder="Cari menu... (misal: latte, sandwich)" aria-label="Cari menu">
          <select id="filterCat" class="select" aria-label="Filter kategori">
            <option value="">Semua Kategori</option>
            <option value="Minuman">Minuman</option>
            <option value="Makanan">Makanan</option>
          </select>
          <select id="sort" class="select" aria-label="Urutkan">
            <option value="name-asc">A → Z</option>
            <option value="name-desc">Z → A</option>
            <option value="price-asc">Harga Terendah</option>
            <option value="price-desc">Harga Tertinggi</option>
          </select>
        </div>
      </header>

      <div id="itemsGrid" class="grid items-grid"></div>
    </section>

    <!-- RIGHT: Cart -->
    <aside class="card cart">
      <h3 style="margin:0 0 10px">Keranjang <span class="badge" id="cartCount">0</span></h3>
      <div id="cartItems" class="items"></div>

      <div class="totals">
        <div class="row" style="border:0;padding-top:0">
          <div>Subtotal</div><div id="subtotal">Rp 0</div>
        </div>
        <div class="row" style="border:0">
          <div>Pajak (10%)</div><div id="tax">Rp 0</div>
        </div>
        <div class="row" style="border:0">
          <div style="font-weight:800">Total</div><div id="total" style="font-weight:800">Rp 0</div>
        </div>
      </div>

      <div class="card" style="background:#1b1718">
        <h3 style="margin:0 0 8px">Detail Pelanggan</h3>
        <div class="grid" style="grid-template-columns:1fr 1fr">
          <input class="input" id="custName" placeholder="Nama lengkap" aria-label="Nama lengkap">
          <input class="input" id="custPhone" placeholder="No. HP pelanggan" aria-label="Nomor HP">
        </div>
        <div class="grid" style="grid-template-columns:1fr 1fr;margin-top:8px">
          <select class="select" id="orderType" aria-label="Tipe pesanan">
            <option value="Dine-in">Dine-in</option>
            <option value="Takeaway">Takeaway</option>
            <option value="Delivery">Delivery</option>
          </select>
          <input class="input" placeholder="Meja / Alamat (opsional)">
        </div>
        <textarea id="orderNote" class="input" rows="2" placeholder="Catatan umum pesanan (opsional)" style="margin-top:8px"></textarea>
      </div>

      <div class="actions">
        <button class="btn ripple" onclick="sendWhatsApp()">Kirim via WhatsApp</button>
        <button class="btn ghost ripple" onclick="sendEmail()">Kirim via Email</button>
        <p class="note">Email menggunakan <strong>mailto:</strong> (membuka aplikasi email). Untuk pengiriman server-side, aktifkan EmailJS di <code>order.js</code>.</p>
      </div>
    </aside>
  </main>

  <!-- Mobile sticky open cart -->
  <button class="mobile-cart-btn ripple" onclick="openDrawer()">
    Buka Keranjang <span id="cartCountBadge" class="badge">0</span>
  </button>
  <div id="drawer" class="drawer" onclick="closeDrawer()">
    <div class="panel card" onclick="event.stopPropagation()">
      <div style="display:flex;align-items:center;justify-content:space-between">
        <h3 style="margin:0">Keranjang</h3>
        <button class="btn ghost ripple" onclick="closeDrawer()">Tutup</button>
      </div>
      <div id="cartItems" class="items" style="margin-top:10px"></div>
      <div class="totals">
        <div class="row" style="border:0;padding-top:0"><div>Subtotal</div><div id="subtotal">Rp 0</div></div>
        <div class="row" style="border:0"><div>Pajak (10%)</div><div id="tax">Rp 0</div></div>
        <div class="row" style="border:0"><div style="font-weight:800">Total</div><div id="total" style="font-weight:800">Rp 0</div></div>
      </div>
      <div class="card" style="background:#1b1718;margin-top:10px">
        <h3 style="margin:0 0 8px">Detail Pelanggan</h3>
        <div class="grid" style="grid-template-columns:1fr 1fr">
          <input class="input" id="custName" placeholder="Nama lengkap">
          <input class="input" id="custPhone" placeholder="No. HP pelanggan">
        </div>
        <div class="grid" style="grid-template-columns:1fr 1fr;margin-top:8px">
          <select class="select" id="orderType">
            <option value="Dine-in">Dine-in</option>
            <option value="Takeaway">Takeaway</option>
            <option value="Delivery">Delivery</option>
          </select>
          <input class="input" placeholder="Meja / Alamat (opsional)">
        </div>
        <textarea id="orderNote" class="input" rows="2" placeholder="Catatan umum pesanan (opsional)" style="margin-top:8px"></textarea>
      </div>
      <div class="actions" style="margin-top:10px">
        <button class="btn ripple" onclick="sendWhatsApp()">Kirim via WhatsApp</button>
        <button class="btn ghost ripple" onclick="sendEmail()">Kirim via Email</button>
      </div>
      <div style="height:8px"></div>
    </div>
  </div>

  <script src="app.js"></script>
  <script src="order.js"></script>
</body>
</html>
